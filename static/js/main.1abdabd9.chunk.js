(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){"use strict";n.r(t);n(66);var a=n(0),r=n.n(a),i=n(64),s=n.n(i),c=n(42),o=n(12),u=n(13),l=n(15),h=n(14),d=n(4),m=n(16),f=(n(121),function(e){var t=e.scores,n=e.handleRefresh;return r.a.createElement("div",{className:"heads-up-display"},r.a.createElement("div",{id:"game-title"},r.a.createElement("div",null,r.a.createElement("h1",null,"Link Four"))),r.a.createElement("div",{id:"user-score"},r.a.createElement("div",null,t.user),r.a.createElement("div",null,"User")),r.a.createElement("div",{id:"cpu-score"},r.a.createElement("div",null,t.cpu),r.a.createElement("div",null,"CPU")),r.a.createElement("div",{id:"controls"},r.a.createElement("button",{onClick:n},"Restart")))}),v=(n(122),function(e){var t=e.user;return r.a.createElement("div",{className:"token ".concat(t)})}),p=(n(123),function(e){var t=e.user;return r.a.createElement("div",{className:"slot"},t&&r.a.createElement(v,{user:t}))}),w=function(e){var t=e.slotStates.every(function(e){return void 0!==e}),n=e.slotStates.map(function(e,t){return r.a.createElement(p,{key:t,user:e})});return r.a.createElement("div",{className:"column ".concat(t?"closed":"open"),onClick:function(){return e.onClick(e.ind)}},n)},b=[function(e,t){return t.every(function(n,a){return t[a][a]===e})},function(e,t){return t.every(function(n,a){return t[a][t.length-1-a]===e})},function(e,t){for(var n=[],a=function(t,n){return t===e?n:null},r=function(e){return null!==e},i=function(e){return 0===n.length||n.indexOf(e)>-1},s=0;s<t.length;s++){var c=t[s].map(a).filter(r);if(0===c.length)return!1;if(0===(n=c.filter(i)).length)return!1}return!0},function(e,t){return t.some(function(t){return t.every(function(t){return t===e})})}],E=function(e){return e.map(function(e,t){return e.some(function(e){return void 0===e})?t:null}).filter(function(e){return null!==e})},k=function(e,t){for(var n=e.currentUser,a=e.columns,r=a.length-1,i=0;i<=r;i++)if(void 0!==a[t][i]){r=i-1;break}var s=a.slice(),c=s[t];return c[r]=n,s[t]=c,s},g=(n(124),function(e){function t(e){var n;Object(o.a)(this,t);var a={length:(n=Object(l.a)(this,Object(h.a)(t).call(this,e))).props.factorDepth},r=Array.from(a,function(e){return Array.from(a,function(e){})});return n.state={currentUser:"user",columns:r},n.cpuMoveTime=400,n.handleUserColSelect=n.handleUserColSelect.bind(Object(d.a)(n)),n.isWinner=n.isWinner.bind(Object(d.a)(n)),n.handleAdvanceTurn=n.handleAdvanceTurn.bind(Object(d.a)(n)),n.handleCPUMove=n.handleCPUMove.bind(Object(d.a)(n)),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"handleUserColSelect",value:function(e){"user"!==this.state.currentUser||this.isWinner()||this.state.columns[e].some(function(e){return void 0===e})&&this.handleAdvanceTurn(k(this.state,e))}},{key:"handleAdvanceTurn",value:function(e){var t=this;this.props.handleIncrementScore(this.state.currentUser,1);var n=this.isWinner();if(n)this.setState({columns:e},function(){return t.props.handleWinner("tie"===n?"tie":t.state.currentUser)});else{var a="user"===this.state.currentUser?"cpu":"user";this.setState({currentUser:a,columns:e},function(){"cpu"===t.state.currentUser&&t.handleCPUMove()})}}},{key:"handleCPUMove",value:function(){var e=this,t=E(this.state.columns),n=t[Math.floor(Math.random()*t.length)];window.setTimeout(function(){return e.handleAdvanceTurn(k(e.state,n))},this.cpuMoveTime)}},{key:"isWinner",value:function(){var e=this;return b.some(function(t){return t(e.state.currentUser,e.state.columns)})||0===E(e.state.columns).length&&"tie"}},{key:"render",value:function(){var e=this,t=this.state.columns.map(function(t,n){return r.a.createElement(w,{key:n,ind:n,onClick:e.handleUserColSelect,slotStates:t})});return r.a.createElement("div",{className:"game-board",style:{gridTemplateColumns:"repeat(".concat(this.props.factorDepth,", 4em)")}},t)}}]),t}(a.Component)),O=(n(125),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={containerClassNames:""},n.transitionTime=400,n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){return window.setTimeout(function(){return e.setState({containerClassNames:"closed"})},e.props.closeOutTime-e.transitionTime)};window.setTimeout(function(){return e.setState({containerClassNames:"open"},t)},50)}},{key:"render",value:function(){return r.a.createElement("div",{className:"modal-container".concat(""!==this.state.containerClassNames?" "+this.state.containerClassNames:"")},r.a.createElement("div",{className:"modal"},this.props.children))}}]),t}(a.Component)),C=(n(126),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(h.a)(t).call(this))).initFactorDepth=3,e.initScores={user:0,cpu:0},e.initState={showGameBoard:!0,factorDepth:e.initFactorDepth,scores:e.initScores,winner:void 0},e.state=e.initState,e.closeOutTime=2500,e.handleIncrementScore=e.handleIncrementScore.bind(Object(d.a)(e)),e.handleWinner=e.handleWinner.bind(Object(d.a)(e)),e.handleRefresh=e.handleRefresh.bind(Object(d.a)(e)),e.handleWindowHeightCheck=e.handleWindowHeightCheck.bind(Object(d.a)(e)),e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"handleIncrementScore",value:function(e,t){var n,a="user"===e?"cpu":"user",r=(n={},Object(c.a)(n,e,this.state.scores[e]+(t||1)),Object(c.a)(n,a,this.state.scores[a]),n);this.setState({scores:r})}},{key:"handleWinner",value:function(e){var t=this,n=2*this.state.factorDepth,a="tie"===e?-n:1,r={user:"user"===e?this.state.scores.user+n:this.state.scores.user+a,cpu:"cpu"===e?this.state.scores.cpu+n:this.state.scores.cpu+a};this.setState({winner:e,scores:r},function(){return window.setTimeout(function(){return t.handleRefresh("tie"===e?-1:1)},t.closeOutTime)})}},{key:"handleRefresh",value:function(e){var t=this,n=e?this.state.factorDepth+e:this.initFactorDepth,a=e?this.state.scores:this.initScores,r=Object.assign({},this.initState,{showGameBoard:!1,factorDepth:n,scores:a});this.setState(r,function(){t.handleWindowHeightCheck(),window.setTimeout(function(){return t.setState({showGameBoard:!0})},e?400:10)})}},{key:"handleWindowHeightCheck",value:function(){var e=3*window.innerHeight/4/12>8+4*this.state.factorDepth+this.state.factorDepth+8;this.setState({showFooter:e})}},{key:"componentDidMount",value:function(){this.handleWindowHeightCheck(),window.addEventListener("resize",this.handleWindowHeightCheck)}},{key:"render",value:function(){var e=this,t=.5*(this.state.factorDepth-1),n=4*this.state.factorDepth,a="".concat(t+n+3.5+6,"em");console.log(a);var i={width:a,height:"".concat(4*this.state.factorDepth+this.state.factorDepth+3,"em"),gridTemplateColumns:"".concat(t+n+2,"em 6em")};return r.a.createElement("div",{className:"app"},r.a.createElement("main",{className:"board-container",style:i},this.state.showGameBoard?r.a.createElement(g,{factorDepth:this.state.factorDepth,handleIncrementScore:this.handleIncrementScore,handleWinner:this.handleWinner}):r.a.createElement("div",{className:"empty-game-board"}),r.a.createElement(f,{scores:this.state.scores,handleRefresh:function(){return e.handleRefresh()}})),this.state.winner&&r.a.createElement(O,{closeOutTime:this.closeOutTime},r.a.createElement("p",null,"tie"===this.state.winner?"Tie...":"Winner!"),r.a.createElement("p",null,"tie"===this.state.winner?":-(":this.state.winner)),r.a.createElement("footer",{className:this.state.showFooter?"showing":"hidden",role:"contentinfo"},r.a.createElement("div",null,r.a.createElement("p",null,"Made with ",r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/a7/React-icon.svg",alt:"React",title:"React"})," and hosted with ",r.a.createElement("span",{title:"love"},"\u2665")," by GitHub"))))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},65:function(e,t,n){e.exports=n(127)}},[[65,1,2]]]);
//# sourceMappingURL=main.1abdabd9.chunk.js.map